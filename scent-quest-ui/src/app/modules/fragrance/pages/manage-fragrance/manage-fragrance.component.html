<div class="p-3">
  <h1 class="display-4">Manage my fragrances</h1>
  <hr class="my-4">
  <div class="alert alert-danger mt-3" role="alert" *ngIf="errorMsg.length">
    <p class="fs-5 m-0" *ngFor="let msg of errorMsg">{{msg}}</p>
  </div>
  <div class="d-flex gap-3">
    <div class="col-4">
      <img class="rounded-3" width="100%" height="auto" [src]="selectedPicture" alt="">
      <div class="mt-3">
        <input
          (change)="onFileSelected($event)"
          class="form-control fs-5"
          type="file"
          id="formFile"
          accept="image/*"
        >
      </div>
      <div class="alert alert-danger mt-3" role="alert" *ngIf="!isFileSelected">
        <p class="fs-5">No file selected for upload.</p>
      </div>
    </div>
    <div class="col-8">
      <form class="row g-3">
        <div class="col-12 mb-3 paddingRight">
          <label for="name" class="form-label fs-5">Name</label>
          <input [(ngModel)]="fragranceRequest.name" name="name" type="text" class="form-control fs-5" id="name" placeholder="Name">
        </div>
        <div class="col-6 mb-3">
          <label for="brand" class="form-label fs-5">Brand</label>
          <select [(ngModel)]="fragranceRequest.brand" name="brand" class="form-select fs-5" id="brand" required>
            <option value="" disabled selected>Select Brand</option>
            <option value="Chanel">Chanel</option>
            <option value="Viktor & Rolf">Viktor & Rolf</option>
            <option value="Tom Ford">Tom Ford</option>
            <option value="Giorgio Armani">Giorgio Armani</option>
            <option value="Dolce & Gabbana">Dolce & Gabbana</option>
            <option value="Lancôme">Lancôme</option>
            <option value="Hermès">Hermès</option>
            <option value="Carolina Herrera">Carolina Herrera</option>
            <option value="Dior">Dior</option>
            <option value="Yves Saint Laurent">Yves Saint Laurent</option>
          </select>
        </div>

        <div class="col-6 mb-3 paddingRight">
          <label for="recommendedSeason" class="form-label fs-5">Season</label>
          <select [(ngModel)]="fragranceRequest.recommendedSeason" name="recommendedSeason" class="form-select fs-5" id="recommendedSeason">
            <option value="" disabled selected>Choose the Recommended Season</option>
            <option value="Spring-Summer">Spring-Summer</option>
            <option value="Autumn-Winter">Autumn-Winter</option>
            <option value="All Seasons">All Seasons</option>
          </select>
        </div>
        <div class="col-6 mb-3 paddingRight">
          <label for="gender" class="form-label fs-5">Gender</label>
          <select [(ngModel)]="fragranceRequest.gender" name="gender" class="form-select fs-5" id="gender" required>
            <option value="" disabled selected>Choose Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Unisex">Unisex</option>
          </select>
        </div>
        <div class="col-6 mb-3 paddingRight">
          <label for="concentration" class="form-label fs-5">Concentration</label>
          <select [(ngModel)]="fragranceRequest.concentration" name="concentration" class="form-select fs-5" id="concentration" required>
            <option value="" disabled selected>Choose Concentration</option>
            <option value="Eau de Toilette">Eau de Toilette</option>
            <option value="Eau de Parfum">Eau de Parfum</option>
            <option value="Perfume">Perfume</option>
            <option value="Cologne">Cologne</option>
          </select>
        </div>
        <div class="col-12 mb-3 paddingRight">
          <label for="description" class="form-label fs-5">Description</label>
          <textarea [(ngModel)]="fragranceRequest.shortDescription" name="description" rows="4" class="form-control fs-5" id="description" placeholder="Description"></textarea>
        </div>
        <div class="col-12 mb-3 paddingRight">
          <label for="releaseDate" class="form-label fs-5">Release Date</label>
          <input [(ngModel)]="fragranceRequest.releaseDate" name="releaseDate" type="date" class="form-control fs-5" id="releaseDate">
        </div>
        <div class="col-12 mb-3">
          <div class="form-check">
            <input [(ngModel)]="fragranceRequest.discontinued" name="discontinued" class="form-check-input fs-5" type="checkbox" id="gridCheck">
            <label class="form-check-label fs-5" for="gridCheck">Discontinued</label>
          </div>
        </div>
        <div class="col-12 mb-3 paddingRight">
          <div class="d-flex gap-1">
            <div class="w-50">
              <p-multiSelect [options]="allPerfumers" [(ngModel)]="perfumers" optionLabel="name" [ngModelOptions]="{standalone: true}" placeholder="Select the perfumers"></p-multiSelect>
            </div>
            <div class="w-50">
              <p-multiSelect [options]="allNotes" [(ngModel)]="notes" optionLabel="name" [ngModelOptions]="{standalone: true}" placeholder="Select the notes"></p-multiSelect>
            </div>
          </div>
        </div>
        <div class="col-12 mb-3">
        </div>
        <div class="d-flex justify-content-end gap-3 col-12 paddingRight">
          <button  (click)="saveFragrance()" type="submit" class="btn btn-outline-primary fs-5"><i class="fas fa-save"></i>&nbsp;Save</button>
          <a routerLink="/fragrances" class="btn btn-link btn text-danger fs-5"><i class="fas fa-times"></i>&nbsp;Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>
